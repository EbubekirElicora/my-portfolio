<section class="contact">
  <div class="form-container">
    <div class="contact-txt">
      <h1 class="header-txt">{{ "contact.headline" | translate }}</h1>
    </div>
    <div class="form-side">
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div class="input-wrapper">
          <input
            formControlName="name"
            [placeholder]="
              showNameError() ? '' : ('contact.form.name' | translate)
            "
            (focus)="onNameFocus()"
            (blur)="onNameBlur()"
          />
          <img
            class="input-icon"
            src="assets/img/icons/contact/done.svg"
            alt=""
            *ngIf="isFieldValid(nameCtrl)"
          />
        </div>
        <div class="field-error" *ngIf="showNameError()">
          <span class="field-error__text">{{ nameErrorText() }}</span>
          <img
            class="field-error__icon"
            src="assets/img/icons/contact/error.svg"
            alt=""
          />
        </div>
        <div class="input-wrapper">
          <input
            formControlName="email"
            [placeholder]="
              showEmailError() ? '' : ('contact.form.email' | translate)
            "
            (focus)="onEmailFocus()"
            (blur)="onEmailBlur()"
          />
          <img
            class="input-icon"
            src="assets/img/icons/contact/done.svg"
            alt=""
            *ngIf="isFieldValid(emailCtrl)"
          />
        </div>
        <div class="field-error" *ngIf="showEmailError()">
          <span class="field-error__text">{{ emailErrorText() }}</span>
          <img
            class="field-error__icon"
            src="assets/img/icons/contact/error.svg"
            alt=""
          />
        </div>
        <div
          class="input-wrapper textarea-wrapper"
          [class.has-error]="showMessageError()"
        >
          <textarea
            formControlName="message"
            rows="11"
            [placeholder]="
              showMessageError() ? '' : ('contact.form.message' | translate)
            "
            (focus)="onMessageFocus()"
            (blur)="onMessageBlur()"
          ></textarea>
          <img
            class="input-icon done-message"
            src="assets/img/icons/contact/done.svg"
            alt=""
            *ngIf="isFieldValid(messageCtrl)"
          />
          <div class="textarea-error" *ngIf="showMessageError()">
            <span class="field-error__text">{{ messageErrorText() }}</span>
            <img
              class="field-error__icon"
              src="assets/img/icons/contact/error.svg"
              alt=""
            />
          </div>
        </div>
        <div class="checkbox-btn-container">
          <div class="container-size">
            <div class="policy" [class.policy-error]="showPrivacyError()">
              <input
                type="checkbox"
                formControlName="privacy"
                [class.privacy-error]="showPrivacyError()"
              />
              <span class="policy-text">
                {{ "contact.form.policy_prefix" | translate }}
                <a href="/legal">
                  {{ "contact.form.policy_link" | translate }}
                </a>
                {{ "contact.form.policy_suffix" | translate }}
              </span>
            </div>
            <p class="privacy-error-text" *ngIf="showPrivacyError()">
              {{ "contact.errors.privacy_required" | translate }}
            </p>
            <div class="btn-pos">
              <button
                type="submit"
                [ngClass]="{
                  btn: contactForm.valid && contactForm.get('privacy')?.value,
                  'btn-sub': !(
                    contactForm.valid && contactForm.get('privacy')?.value
                  )
                }"
                [disabled]="submitting"
              >
                {{ "contact.form.send" | translate }}
              </button>
              <p *ngIf="success" class="ok">
                {{ "contact.form.success" | translate }}
              </p>
              <p *ngIf="error" class="err">
                {{ "contact.form.error" | translate }}
              </p>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class="info-side">
    <p class="lead">{{ "contact.info.lead" | translate }}</p>
    <p class="muted">{{ "contact.info.muted" | translate }}</p>
    <ul class="contacts">
      <li>
        <img
          class="emailImg"
          src="assets/img/icons/contact/eMail_contact.svg"
          alt="E-Mail Icon"
        />
        <span>E-Mail: max-muster&#64;gmx.de</span>
      </li>
      <li>
        <img
          class="phoneImg"
          src="assets/img/icons/contact/phone_contact.svg"
          alt="Telefon Icon"
        />
        <span>Tel: 0157 123 456 68</span>
      </li>
    </ul>
    <img
      class="next-arrow"
      src="assets/img/icons/arrows/arrow_left.png"
      alt="ZurÃ¼ck"
      role="button"
      tabindex="0"
      (click)="onBack()"
      (keydown.enter)="onBack()"
      (keydown.space)="onBack()"
    />
    <div class="container-legal-notice">
      <div class="legal-notice-pos">
        <a class="legal-a" href="/legal">{{
          "contact.footer.legal" | translate
        }}</a>
        <a class="policy-a" href="/privacy">{{
          "contact.footer.policy" | translate
        }}</a>
        <p>&copy; Max Mustermann 2025</p>
      </div>
    </div>
  </div>
  <div class="contact-accent-layer">
    <div class="accent-bar" aria-hidden="true"></div>
  </div>
</section>
